<!-- NOTE: The parentid is one level too low. We need its parent. -->
<div class="file-list-view">
  <div class="controls file-info"
    data-fileid="<%= parentDirectory.parentid %>"
    data-type="<%= Pogoplug.Enums.FileType.directory %>">
    <a data-command="select" href="" class="navigate up">UP
    </a>
    <% if (parentDirectoryViewModel instanceof App.ViewModel.AlbumDirectoryViewModel) { %>
      <a data-command="playAll" href="" class="play-all">
        Play All
      </a>
      <a data-command="addAll" href="" class="add-all">
        Add All
      </a>
    <% } %>
    <div class="directory-info">
      <%= parentDirectoryViewModel.displayName %>
    </div>
  </div>
  <div class="list-section">
    <div class="mask"></div>
    <%
      var lists = ["genreDirectories", "albumDirectories", "songs", "images", "otherFiles"];
    %>
    <% for (var i = 0, len = lists.length; i < len; i++) { %>
      <% if (this[lists[i]].length > 0) { %>
        <%= App.View.render("itemList", { list: this[lists[i]] }) %>
      <% } %>
    <% } %>
  </div>
</div>
